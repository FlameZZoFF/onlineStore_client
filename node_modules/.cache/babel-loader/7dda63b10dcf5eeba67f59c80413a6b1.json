{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projects\\\\20122022\\\\onlineStore_client\\\\src\\\\components\\\\UI\\\\Buttons\\\\addToBucket\\\\AddToBucket.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styles from './AddToBucket.module.css';\nimport BucketButton from '../../../images/bucketButton.svg';\nimport { useAddBucketDeviceMutation } from '../../../redux/api/server.api';\nimport { useAppSelector } from '../../../redux/hooks/hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddToBucket(_ref) {\n  _s();\n\n  let {\n    id,\n    setAlert\n  } = _ref;\n  const [addToBucket] = useAddBucketDeviceMutation();\n  const user = useAppSelector(state => state.user.User);\n\n  const bucketHandler = () => {\n    addToBucket({\n      basketId: user.id,\n      deviceId: id\n    }).unwrap().then(() => {\n      setAlert(true);\n      setTimeout(() => {\n        setAlert(false);\n      }, 2500);\n    });\n  };\n\n  const OnMouseOver = e => {\n    e.target.classList.add(styles.active);\n  };\n\n  const OnMouseOut = e => {\n    e.target.classList.remove(styles.active);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    disabled: user.id ? false : true,\n    style: {\n      opacity: user.id ? '' : '0.5'\n    },\n    title: \"\\u0410\\u0432\\u0442\\u043E\",\n    onMouseOver: OnMouseOver,\n    onClick: bucketHandler,\n    onMouseOut: OnMouseOut,\n    className: styles.button,\n    children: [\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\", /*#__PURE__*/_jsxDEV(\"img\", {\n      src: BucketButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddToBucket, \"Fh6dTHYqTap1BJs7kICgv0uzmmQ=\", false, function () {\n  return [useAddBucketDeviceMutation, useAppSelector];\n});\n\n_c = AddToBucket;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddToBucket\");","map":{"version":3,"names":["React","styles","BucketButton","useAddBucketDeviceMutation","useAppSelector","AddToBucket","id","setAlert","addToBucket","user","state","User","bucketHandler","basketId","deviceId","unwrap","then","setTimeout","OnMouseOver","e","target","classList","add","active","OnMouseOut","remove","opacity","button"],"sources":["E:/Projects/20122022/onlineStore_client/src/components/UI/Buttons/addToBucket/AddToBucket.tsx"],"sourcesContent":["import React from 'react'\r\nimport styles from './AddToBucket.module.css'\r\nimport BucketButton from '../../../images/bucketButton.svg'\r\nimport { useAddBucketDeviceMutation } from '../../../redux/api/server.api'\r\nimport { useAppSelector } from '../../../redux/hooks/hooks'\r\n\r\ninterface buttonProps{\r\n  id:number,\r\n  setAlert:(value:boolean)=>void\r\n}\r\n\r\n\r\nexport default function AddToBucket({id,setAlert}:buttonProps) {\r\n\r\n  const [addToBucket] = useAddBucketDeviceMutation()\r\n\r\n  const user = useAppSelector(state=>state.user.User)\r\n\r\n   const bucketHandler = () =>{\r\n      addToBucket({basketId:user.id,deviceId:id}).unwrap()\r\n      .then(()=>{\r\n        setAlert(true)\r\n        setTimeout(()=>{\r\n          setAlert(false)\r\n         },2500)\r\n      })\r\n   }\r\n\r\n    const OnMouseOver = (e:any) =>{\r\n        e.target.classList.add(styles.active)\r\n    }\r\n    const OnMouseOut = (e:any) =>{\r\n        e.target.classList.remove(styles.active)\r\n    }\r\n  return (\r\n    <button disabled={user.id ? false : true} style={{opacity:user.id ? '' : '0.5'}} title='Авто' onMouseOver={OnMouseOver} onClick={bucketHandler} onMouseOut={OnMouseOut} className={styles.button}>Добавить\r\n    <img src={BucketButton}></img>\r\n    </button>\r\n  )\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AACA,SAASC,0BAAT,QAA2C,+BAA3C;AACA,SAASC,cAAT,QAA+B,4BAA/B;;AAQA,eAAe,SAASC,WAAT,OAAgD;EAAA;;EAAA,IAA3B;IAACC,EAAD;IAAIC;EAAJ,CAA2B;EAE7D,MAAM,CAACC,WAAD,IAAgBL,0BAA0B,EAAhD;EAEA,MAAMM,IAAI,GAAGL,cAAc,CAACM,KAAK,IAAEA,KAAK,CAACD,IAAN,CAAWE,IAAnB,CAA3B;;EAEC,MAAMC,aAAa,GAAG,MAAK;IACxBJ,WAAW,CAAC;MAACK,QAAQ,EAACJ,IAAI,CAACH,EAAf;MAAkBQ,QAAQ,EAACR;IAA3B,CAAD,CAAX,CAA4CS,MAA5C,GACCC,IADD,CACM,MAAI;MACRT,QAAQ,CAAC,IAAD,CAAR;MACAU,UAAU,CAAC,MAAI;QACbV,QAAQ,CAAC,KAAD,CAAR;MACA,CAFQ,EAEP,IAFO,CAAV;IAGD,CAND;EAOF,CARD;;EAUC,MAAMW,WAAW,GAAIC,CAAD,IAAU;IAC1BA,CAAC,CAACC,MAAF,CAASC,SAAT,CAAmBC,GAAnB,CAAuBrB,MAAM,CAACsB,MAA9B;EACH,CAFD;;EAGA,MAAMC,UAAU,GAAIL,CAAD,IAAU;IACzBA,CAAC,CAACC,MAAF,CAASC,SAAT,CAAmBI,MAAnB,CAA0BxB,MAAM,CAACsB,MAAjC;EACH,CAFD;;EAGF,oBACE;IAAQ,QAAQ,EAAEd,IAAI,CAACH,EAAL,GAAU,KAAV,GAAkB,IAApC;IAA0C,KAAK,EAAE;MAACoB,OAAO,EAACjB,IAAI,CAACH,EAAL,GAAU,EAAV,GAAe;IAAxB,CAAjD;IAAiF,KAAK,EAAC,0BAAvF;IAA8F,WAAW,EAAEY,WAA3G;IAAwH,OAAO,EAAEN,aAAjI;IAAgJ,UAAU,EAAEY,UAA5J;IAAwK,SAAS,EAAEvB,MAAM,CAAC0B,MAA1L;IAAA,4EACA;MAAK,GAAG,EAAEzB;IAAV;MAAA;MAAA;MAAA;IAAA,QADA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAKD;;GA3BuBG,W;UAEAF,0B,EAETC,c;;;KAJSC,W"},"metadata":{},"sourceType":"module"}